(function(root,factory){
  if(typeof define==='function'&&define.amd){
    define(['grapesjs'],factory);
  }else if(typeof exports==='object'){
    module.exports=factory;
  }else{
    factory(root.grapesjs);
  }
})(this,function(grapesjs){
  if(!grapesjs){
    return;
  }
  grapesjs.plugins.add('gjs-blocks-basic',function(editor,opts){
    var bm=editor.BlockManager;
    var opt=opts||{};
    var basicCat=opt.categoryBasic||'Basic';
    var layoutCat=opt.categoryLayout||'Layout';
    var mediaCat=opt.categoryMedia||'Media';
    var columnWrapperStyle=opt.flexGrid?'display:flex;flex-wrap:wrap;gap:20px;margin:0 auto;':'display:block;margin:0 auto;';
    var columnStyle=opt.flexGrid?'flex:1 1 45%;padding:20px;background:#f7f7f7;':'width:50%;float:left;padding:20px;background:#f7f7f7;';
    var columnThreeStyle=opt.flexGrid?'flex:1 1 30%;padding:15px;background:#f7f7f7;':'width:33.33%;float:left;padding:15px;background:#f7f7f7;';
    var clearStyle=opt.flexGrid?'':'<div style="clear:both"></div>';
    var blocks=[
      {id:'gjs-text',label:'Text',category:basicCat,content:'<div class="lead">Insert your text here</div>',attributes:{class:'gjs-fonts gjs-f-text'}},
      {id:'gjs-heading',label:'Heading',category:basicCat,content:'<h1>Heading</h1>',attributes:{class:'gjs-fonts gjs-f-h1'}},
      {id:'gjs-paragraph',label:'Paragraph',category:basicCat,content:'<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec non metus vitae lorem rutrum hendrerit.</p>',attributes:{class:'gjs-fonts gjs-f-paragraph'}},
      {id:'gjs-link',label:'Link',category:basicCat,content:'<a class="btn-link" href="">This is a link</a>',attributes:{class:'gjs-fonts gjs-f-link'}},
      {id:'gjs-button',label:'Button',category:basicCat,content:'<a class="button" href="" style="display:inline-block;padding:12px 25px;background:#4c6ef5;color:#fff;text-decoration:none;border-radius:4px;">Click me</a>',attributes:{class:'gjs-fonts gjs-f-button'}},
      {id:'gjs-quote',label:'Quote',category:basicCat,content:'<blockquote style="padding:20px;border-left:4px solid #4c6ef5;background:#f8f9fc;">“GrapesJS makes building blocks easy.”</blockquote>',attributes:{class:'gjs-fonts gjs-f-quote'}},
      {id:'gjs-list',label:'List',category:basicCat,content:'<ul><li>First item</li><li>Second item</li><li>Third item</li></ul>',attributes:{class:'gjs-fonts gjs-f-ul'}},
      {id:'gjs-image',label:'Image',category:mediaCat,content:'<img src="" alt="Image" style="max-width:100%;display:block;"/>',attributes:{class:'gjs-fonts gjs-f-image'}},
      {id:'gjs-video',label:'Video',category:mediaCat,content:'<div class="video-wrapper" style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;"><iframe src="https://www.youtube.com/embed/TuP2cdjV0mo" frameborder="0" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div>',attributes:{class:'gjs-fonts gjs-f-video'}},
      {id:'gjs-map',label:'Map',category:mediaCat,content:'<div class="map" style="min-height:350px"><iframe src="https://maps.google.com/maps?q=New%20York&t=m&z=10&output=embed&iwloc=near" frameborder="0" style="border:0;width:100%;height:100%" allowfullscreen></iframe></div>',attributes:{class:'gjs-fonts gjs-f-map'}},
      {id:'gjs-single-column',label:'Single Column',category:layoutCat,content:'<section class="row" style="'+columnWrapperStyle+'"><div class="column" style="flex:1;padding:25px;background:#f8f9fa;">Replace with your content</div></section>',attributes:{class:'gjs-fonts gjs-f-1col'}},
      {id:'gjs-two-columns',label:'2 Columns',category:layoutCat,content:'<section class="row" style="'+columnWrapperStyle+'"><div class="column" style="'+columnStyle+'">Column 1</div><div class="column" style="'+columnStyle+'">Column 2</div></section>'+clearStyle,attributes:{class:'gjs-fonts gjs-f-2col'}},
      {id:'gjs-three-columns',label:'3 Columns',category:layoutCat,content:'<section class="row" style="'+columnWrapperStyle+'"><div class="column" style="'+columnThreeStyle+'">Column 1</div><div class="column" style="'+columnThreeStyle+'">Column 2</div><div class="column" style="'+columnThreeStyle+'">Column 3</div></section>'+clearStyle,attributes:{class:'gjs-fonts gjs-f-3col'}},
      {id:'gjs-text-section',label:'Text Section',category:'Sections',content:'<section style="padding:60px 20px;background:#ffffff;text-align:center;"><h2>Section title</h2><p>Use this area to describe your offer or highlight a feature.</p></section>',attributes:{class:'gjs-fonts gjs-f-hero'}}
    ];
    blocks.forEach(function(block){
      if(!bm.get(block.id)){
        bm.add(block.id,block);
      }
    });
  });
});
