(function(root,factory){
  if(typeof define==='function'&&define.amd){
    define(['grapesjs'],factory);
  }else if(typeof exports==='object'){
    module.exports=factory;
  }else{
    factory(root.grapesjs);
  }
})(this,function(grapesjs){
  if(!grapesjs){
    return;
  }
  grapesjs.plugins.add('grapesjs-plugin-forms',function(editor,opts){
    var bm=editor.BlockManager;
    var category=(opts&&opts.category)||'Forms';
    var blocks=[
      {id:'gjs-form',label:'Form',category:category,content:'<form class="form" style="padding:20px;background:#f8f9fc;border:1px solid #d0d7de;">\
<div class="form-group" style="margin-bottom:15px;">\
<label>Name</label>\
<input type="text" name="name" placeholder="Your name" style="width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;"/>\
</div>\
<div class="form-group" style="margin-bottom:15px;">\
<label>Email</label>\
<input type="email" name="email" placeholder="name@example.com" style="width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;"/>\
</div>\
<div class="form-group" style="margin-bottom:15px;">\
<label>Message</label>\
<textarea name="message" rows="4" style="width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;"></textarea>\
</div>\
<button type="submit" style="display:inline-block;padding:12px 25px;background:#4c6ef5;color:#fff;border:none;border-radius:4px;">Send</button>\
</form>',attributes:{class:'gjs-fonts gjs-f-form'}},
      {id:'gjs-input',label:'Input',category:category,content:'<input type="text" placeholder="Text input" style="width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;"/>',attributes:{class:'gjs-fonts gjs-f-input'}},
      {id:'gjs-textarea',label:'Textarea',category:category,content:'<textarea rows="3" placeholder="Textarea" style="width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;"></textarea>',attributes:{class:'gjs-fonts gjs-f-textarea'}},
      {id:'gjs-select',label:'Select',category:category,content:'<select style="width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;"><option>Option 1</option><option>Option 2</option></select>',attributes:{class:'gjs-fonts gjs-f-select'}},
      {id:'gjs-checkbox',label:'Checkbox',category:category,content:'<label style="display:flex;align-items:center;gap:8px;"><input type="checkbox"/> Checkbox label</label>',attributes:{class:'gjs-fonts gjs-f-checkbox'}},
      {id:'gjs-radio',label:'Radio',category:category,content:'<label style="display:flex;align-items:center;gap:8px;"><input type="radio" name="radio-group"/> Radio label</label>',attributes:{class:'gjs-fonts gjs-f-radio'}},
      {id:'gjs-submit',label:'Submit',category:category,content:'<button type="submit" style="display:inline-block;padding:12px 25px;background:#4c6ef5;color:#fff;border:none;border-radius:4px;">Submit</button>',attributes:{class:'gjs-fonts gjs-f-button'}}
    ];
    blocks.forEach(function(block){
      if(!bm.get(block.id)){
        bm.add(block.id,block);
      }
    });
  });
});
